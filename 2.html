<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Generato</title>
   <style>
  body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f4;
        }

    .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            text-align: center;
        }

    h2 {
            margin-bottom: 20px;
            color: #333;
        }

    .form-group {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 10px 0;
    }

    .form-group label {
        font-size: 14px;
        margin-right: 10px;
        width: 40%; /* Adjust to desired label width */
        text-align: left;
    }

    .form-group input, .form-group select {
        padding: 10px;
        width: 50%; /* Adjust input width */
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    button {
            background-color: green;
            color: white;
            font-size: 16px;
            cursor: pointer;
            border: none;
        }

    button:hover {
        background-color: darkgreen;
    }

    .error {
        color: red;
        font-size: 12px;
        margin-top: 5px;
    }

    .output-box {
    margin-top: 10px;
    font-size: 16px;
    font-weight: bold;
    background-color: #f1f1f1;
    padding: 20px;
    border-radius: 10px;
    border: 1px solid #ddd;
    min-height: 10px;
    word-wrap: break-word; /* Ensures long text wraps */
    overflow-x: auto; /* Adds horizontal scroll if needed */
    max-width: 100%; /* Prevents overflow outside container */
    white-space: pre-wrap; /* Preserves whitespace and wraps text */
}


    .hidden {
        display: none;
    }

    /* Ensure responsiveness */
    @media (max-width: 600px) {
        h2 {
            font-size: 1.2em;
        }

        .form-group input, .form-group select {
            font-size: 14px;
            width: 100%;
        }

        .container {
            padding: 15px;
            width: 90%;  /* Use more width on smaller screens */
            max-width: 100%;
        }

        textarea {
            width: 100%;
        }
    }

    .date-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 10px;
    }

    .date-container label {
        width: 45%;
        text-align: left;
    }

    .date-container input {
        width: 45%;
    }
   header {
            background-color: #333;
            color: white;
            padding: 10px 0;
        }
        header nav ul {
            list-style-type: none;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        header nav ul li {
            display: inline;
            margin-right: 20px;
        }
        header nav ul li a {
            color: white;
            text-decoration: none;
            font-size: 18px;
        }
        header nav ul li a:hover {
            text-decoration: underline;
        }
.note {
        font-weight: bold;
        text-transform: uppercase;
        color: #999;
        font-size: 16px;
        font-family: Arial, sans-serif;
        margin-bottom: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh; /* Make the container take up full height of the viewport */
    }
 </style>  
</head>
<body>

    <div class="container">
<header>
  <nav>
    <ul>
      <li><a href="0.html">Name</a></li>
      <li><a href="1.html">ID & Telephone</a></li>
      <li><a href="3.html">Address</a></li>
      <li><a href="2.html">Account</a></li>
    </ul>
  </nav>
</header>
    
        <h2>Accounts Segment</h2>
        <form id="loanForm">
            <!-- Section 0 (Fixed) -->
            <input type="text" id="section0" value="TL04T0010110NB955500010209YUVARAJFI03" class="hidden">

            <!-- Section 1: Loan ID -->
            <div class="form-group">
                <label for="section1b">Loan ID:</label>
                <input type="text" id="section1b" required>
               <div class="error" id="errorSection1b" style="display: none;">This field is required.</div>
            </div>

            <!-- Section 2: Loan Type -->
            <div class="form-group">
                <label for="section2b">Loan Type:</label>
                <select id="section2b" required>
                    <option value="05">Personal Loan</option>
                    <option value="41">Microfinance Personal Loan</option>
                </select>
            </div>

            <!-- Section 3: Ownership Indicator -->
            <div class="form-group">
                <label for="section3a">Ownership Indicator:</label>
                <select id="section3a" required>
                    <option value="1">Individual</option>
                    <option value="2">Authorised User</option>
                    <option value="3">Guarantor</option>
                    <option value="4">Joint</option>
                    <option value="5">Deceased</option>
                </select>
            </div>

            <!-- Section 4: Date Opened/Disbursed -->
            <div class="date-container">
                <label for="section4b">Date Opened/Disbursed:</label>
                <input type="date" id="section4b" required>
              <div class="error" id="errorSection4b" style="display: none;">This field is required.</div>
            </div>

            <!-- Section 5: Date of Last Payment -->
            <div class="date-container">
                <label for="section5b">Date of Last Payment:</label>
                <input type="date" id="section5b">
            </div>

            <!-- Section 6: Date Closed -->
            <div class="date-container">
                <label for="section6b">Date Closed:</label>
                <input type="date" id="section6b">
            </div>

            <!-- Section 13: Date Reported and Certified -->
            <div class="date-container">
                <label for="section13">Date Reported and Certified:</label>
                <input type="date" id="section13" required>
              <div class="error" id="errorSection13" style="display: none;">This field is required.</div>
            </div>

            <!-- Section 16: High Credit/Sanctioned Amount -->
            <div class="form-group">
                <label for="section16">High Credit/Sanctioned Amount:</label>
                <input type="text" id="section16" pattern="\d*" required>
              <div class="error" id="errorSection16" style="display: none;">This field is required.</div>
            </div>

            <!-- Section 19: Current Balance -->
            <div class="form-group">
                <label for="section19">Current Balance:</label>
                <input type="text" id="section19" pattern="\d*" required>
              <div class="error" id="errorSection19" style="display: none;">This field is required.</div>
            </div>

            <!-- Section 22: Amount Overdue -->
            <div class="form-group">
                <label for="section22">Amount Overdue:</label>
                <input type="text" id="section22" pattern="\d*" required>
              <div class="error" id="errorSection22" style="display: none;">This field is required.</div>
            </div>

            <!-- Section 25: Number of Days Past Due -->
            <div class="form-group">
                <label for="section25">Number of Days Past Due:</label>
                <input type="text" id="section25" pattern="\d*" required>
              <div class="error" id="errorSection25" style="display: none;">This field is required.</div>
            </div>

            <!-- Section 31: Tenure -->
            <div class="form-group">
                <label for="section31">Tenure:</label>
                <input type="text" id="section31" pattern="\d*" required>
              <div class="error" id="errorSection31" style="display: none;">This field is required.</div>
            </div>

            <!-- Section 28: EMI Amount -->
            <div class="form-group">
                <label for="section28">EMI Amount:</label>
                <input type="text" id="section28" pattern="\d*" required>
              <div class="error" id="errorSection28" style="display: none;">This field is required.</div>
            </div>

            <!-- Buttons -->
            <button type="button" onclick="generateOutput()">Generate</button>
            <button type="button" onclick="resetForm()">Refresh</button>
        </form>

        <!-- Output Box -->
        <div class="output-box" id="outputBox"></div>
        <button type="button" id="copyButton" class="hidden" onclick="copyToClipboard()">Copy</button>
        <p id="copiedMessage" class="hidden">Copied!</p>
    </div>
  </div>
<div><p class="note">&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;End of the cibil report use "TRLR"</p>
  </div>
    <script>
     function generateOutput() {
    // Hide previous error messages
    hideAllErrors();

    // Check if required fields are filled
    const isValid = validateRequiredFields();
    if (!isValid) return;  // Stop further execution if validation fails

    // Fixed values
    const section0 = document.getElementById('section0').value;
    const section2a = "0402";
    const section3 = "0501";
    const section4a = "0808";
    const section5a = "0908";
    const section6a = "1008";
    const section12 = "1108";
    const section14 = "12";
    const section17 = "13";
    const section20 = "14";
    const section23 = "15";
    const section29 = "39";
    const section26 = "40";
    const section32 = "ES02**";

    // User inputs
    const section1b = document.getElementById('section1b').value;
    const section1a = String(section1b.length).padStart(2, '0');
    const section2b = document.getElementById('section2b').value;
    const section3a = document.getElementById('section3a').value;
    const section4b = formatDate(document.getElementById('section4b').value);
    const section5bRaw = document.getElementById('section5b').value;
    const section5b = section5bRaw ? formatDate(section5bRaw) : '';
    const section6bRaw = document.getElementById('section6b').value;
    const section6b = section6bRaw ? formatDate(section6bRaw) : '';
    const section13 = formatDate(document.getElementById('section13').value);
    const section16 = document.getElementById('section16').value;
    const section15 = String(section16.length).padStart(2, '0');
    const section19 = document.getElementById('section19').value;
    const section18 = String(section19.length).padStart(2, '0');
    const section22 = document.getElementById('section22').value;
    const section21 = String(section22.length).padStart(2, '0');
    const section25 = document.getElementById('section25').value;
    const section24 = String(section25.length).padStart(2, '0');
    const section31 = document.getElementById('section31').value;
    const section30 = String(section31.length).padStart(2, '0');
    const section28 = document.getElementById('section28').value;
    const section27 = String(section28.length).padStart(2, '0');

    // Generate output with conditional inclusion
    let output = `${section0}${section1a}${section1b}${section2a}${section2b}${section3}${section3a}${section4a}${section4b}`;
    if (section5b) output += `${section5a}${section5b}`; // Only include if section5b exists
    if (section6b) output += `${section6a}${section6b}`; // Only include if section6b exists
    output += `${section12}${section13}${section14}${section15}${section16}${section17}${section18}${section19}${section20}${section21}${section22}${section23}${section24}${section25}${section29}${section30}${section31}${section26}${section27}${section28}${section32}`;

    // Display output
    document.getElementById('outputBox').textContent = output;
    document.getElementById('copyButton').classList.remove('hidden');
}

function validateRequiredFields() {
    let isValid = true;

    // Check if fields are empty and show error messages if needed
    if (!document.getElementById('section1b').value) {
        document.getElementById('errorSection1b').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section2b').value) {
        document.getElementById('errorSection2b').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section3a').value) {
        document.getElementById('errorSection3a').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section4b').value) {
        document.getElementById('errorSection4b').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section13').value) {
        document.getElementById('errorSection13').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section16').value) {
        document.getElementById('errorSection16').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section19').value) {
        document.getElementById('errorSection19').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section22').value) {
        document.getElementById('errorSection22').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section25').value) {
        document.getElementById('errorSection25').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section31').value) {
        document.getElementById('errorSection31').style.display = 'block';
        isValid = false;
    }

    if (!document.getElementById('section28').value) {
        document.getElementById('errorSection28').style.display = 'block';
        isValid = false;
    }

    return isValid;
}

function hideAllErrors() {
    const errorElements = document.querySelectorAll('.error');
    errorElements.forEach(element => element.style.display = 'none');
}

function formatDate(dateString) {
    if (!dateString) return '';
    const date = new Date(dateString);
    const day = String(date.getDate()).padStart(2, '0');
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const year = date.getFullYear();
    return `${day}${month}${year}`;
}


function resetForm() {
    document.getElementById('loanForm').reset();
    document.getElementById('outputBox').textContent = '';
    document.getElementById('copyButton').classList.add('hidden');
    document.getElementById('copiedMessage').classList.add('hidden');
}

function copyToClipboard() {
    const outputBox = document.getElementById('outputBox');
    navigator.clipboard.writeText(outputBox.textContent).then(() => {
        document.getElementById('copiedMessage').classList.remove('hidden');
        setTimeout(() => {
            document.getElementById('copiedMessage').classList.add('hidden');
        }, 2000);
    });
}
  </script>
</body>
</html>
